<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hapivet Prompt Library - Examples</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav a {
            color: #667eea;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .nav a:hover {
            background: #667eea;
            color: white;
        }
        
        .content {
            padding: 40px;
        }
        
        .example-section {
            margin-bottom: 40px;
        }
        
        .example-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .example-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .example-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }
        
        .example-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .example-card p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .example-card .icon {
            font-size: 2em;
            margin-bottom: 15px;
            color: #667eea;
        }
        
        .input-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .input-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.4em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            font-family: inherit;
        }
        
        .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        .result-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            display: none;
        }
        
        .result-section.show {
            display: block;
        }
        
        .result-content {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            border: 1px solid #e9ecef;
        }
        
        .model-info {
            background: #e9ecef;
            border-radius: 8px;
            padding: 15px;
            font-size: 0.9em;
            color: #666;
        }
        
        .loading {
            text-align: center;
            color: #667eea;
            font-weight: 500;
        }
        
        .error {
            color: #dc3545;
            font-weight: 500;
        }
        
        .success {
            color: #28a745;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Hapivet Prompt Library</h1>
            <p>Test AI capabilities with interactive examples</p>
        </div>
        
        <div class="nav">
            <div>
                <a href="/docs">üìö API Docs</a>
                <a href="/api/v1/health">üè• Health Check</a>
                <a href="/api/v1/models">ü§ñ Models</a>
            </div>
            <div>
                <a href="/">üè† Home</a>
            </div>
        </div>
        
        <div class="content">
            <div class="example-section">
                <h2>üéØ Quick Examples</h2>
                <div class="example-grid">
                    <div class="example-card" onclick="loadExample('summarize')">
                        <div class="icon">üìù</div>
                        <h3>Summarize Text</h3>
                        <p>Condense long articles or documents into key points</p>
                    </div>
                    <div class="example-card" onclick="loadExample('code')">
                        <div class="icon">üíª</div>
                        <h3>Code Generation</h3>
                        <p>Generate Python, JavaScript, or other programming code</p>
                    </div>
                    <div class="example-card" onclick="loadExample('creative')">
                        <div class="icon">üé®</div>
                        <h3>Creative Writing</h3>
                        <p>Write stories, poems, or creative content</p>
                    </div>
                    <div class="example-card" onclick="loadExample('analysis')">
                        <div class="icon">üìä</div>
                        <h3>Data Analysis</h3>
                        <p>Analyze data and provide insights</p>
                    </div>
                    <div class="example-card" onclick="loadExample('translation')">
                        <div class="icon">üåç</div>
                        <h3>Translation</h3>
                        <p>Translate text between different languages</p>
                    </div>
                    <div class="example-card" onclick="loadExample('qa')">
                        <div class="icon">‚ùì</div>
                        <h3>Q&A</h3>
                        <p>Ask questions and get detailed answers</p>
                    </div>
                </div>
            </div>
            
            <div class="input-section">
                <h3>üéÆ Interactive Testing</h3>
                <div class="form-group">
                    <label for="prompt">Your Prompt:</label>
                    <textarea id="prompt" placeholder="Enter your prompt here..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="model">AI Model (or 'auto' for best selection):</label>
                    <select id="model">
                        <option value="auto">ü§ñ Auto-select (Recommended)</option>
                        <option value="openai-gpt-4">OpenAI GPT-4</option>
                        <option value="openai-gpt-3.5-turbo">OpenAI GPT-3.5 Turbo</option>
                        <option value="anthropic-claude-3">Anthropic Claude 3</option>
                        <option value="google-gemini-pro">Google Gemini Pro</option>
                        <option value="deepseek-deepseek-chat">DeepSeek Chat</option>
                        <option value="deepseek-deepseek-coder">DeepSeek Coder</option>
                    </select>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="generateResponse()">üöÄ Generate Response</button>
                    <button class="btn btn-secondary" onclick="clearResult()">üóëÔ∏è Clear</button>
                    <button class="btn btn-success" onclick="estimateCost()">üí∞ Estimate Cost</button>
                </div>
            </div>
            
            <div class="result-section" id="resultSection">
                <h3>üì§ Result</h3>
                <div class="result-content" id="resultContent"></div>
                <div class="model-info" id="modelInfo"></div>
            </div>
        </div>
    </div>
    
    <script>
        console.log('Script starting...');
        
        const examples = {
            summarize: {
                prompt: "Please summarize the following article in 3-5 key points:\n\nArtificial Intelligence (AI) has rapidly evolved from a theoretical concept to a practical technology that's transforming industries worldwide. From healthcare to finance, transportation to entertainment, AI systems are being deployed to automate processes, enhance decision-making, and create new capabilities that were previously impossible.\n\nIn healthcare, AI is being used to analyze medical images, predict patient outcomes, and assist in drug discovery. Machine learning algorithms can detect patterns in X-rays, MRIs, and CT scans that human radiologists might miss, leading to earlier and more accurate diagnoses.\n\nIn finance, AI powers algorithmic trading, fraud detection, and personalized financial advice. Banks and investment firms use AI to analyze market trends, assess credit risk, and provide customers with tailored financial products.\n\nThe transportation sector is being revolutionized by autonomous vehicles, which rely heavily on AI for navigation, obstacle detection, and decision-making. Companies like Tesla, Waymo, and Uber are investing billions in developing self-driving technology that could fundamentally change how we travel.\n\nHowever, the rise of AI also brings significant challenges. Concerns about job displacement, privacy, and algorithmic bias have sparked important debates about how to develop and deploy AI responsibly. As AI systems become more sophisticated, questions about accountability, transparency, and control become increasingly important.\n\nDespite these challenges, the potential benefits of AI are enormous. By automating routine tasks, AI can free humans to focus on creative and strategic work. It can help solve complex problems in areas like climate change, disease prevention, and scientific research. The key is to develop AI systems that augment human capabilities rather than replace them entirely.",
                model: "auto"
            },
            code: {
                prompt: "Write a Python function that takes a list of numbers and returns the sum of all even numbers in the list. Include error handling and add some example usage.",
                model: "deepseek-deepseek-coder"
            },
            creative: {
                prompt: "Write a short, inspiring poem about technology and human connection in the digital age. Make it about 8-12 lines long.",
                model: "anthropic-claude-3"
            },
            analysis: {
                prompt: "Analyze the following sales data and provide insights:\n\nQ1: $45,000\nQ2: $52,000\nQ3: $48,000\nQ4: $61,000\n\nWhat trends do you see? What might explain the Q4 increase?",
                model: "auto"
            },
            translation: {
                prompt: "Translate the following English text to Spanish:\n\n'Hello, how are you today? I hope you're having a wonderful day. The weather is beautiful and I'm looking forward to our meeting later.'",
                model: "auto"
            },
            qa: {
                prompt: "What are the main differences between machine learning and deep learning? Provide examples of when you would use each approach.",
                model: "auto"
            }
        };
        
        function loadExample(type) {
            console.log('loadExample called with type:', type);
            const example = examples[type];
            if (example) {
                document.getElementById('prompt').value = example.prompt;
                document.getElementById('model').value = example.model;
                showSuccess('Example loaded! Click "Generate Response" to test.');
            } else {
                console.error('Example not found for type:', type);
            }
        }
        
        async function generateResponse() {
            console.log('generateResponse called');
            const prompt = document.getElementById('prompt').value.trim();
            const model = document.getElementById('model').value;
            
            if (!prompt) {
                showError('Please enter a prompt first.');
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch('/api/v1/demo/prompt', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        model_preference: model,
                        max_tokens: 1000
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showResult(data.response, data);
                } else {
                    showError(`Error: ${data.detail || 'Failed to generate response'}`);
                }
            } catch (error) {
                showError(`Network error: ${error.message}`);
            }
        }
        
        async function estimateCost() {
            console.log('estimateCost called');
            const prompt = document.getElementById('prompt').value.trim();
            const model = document.getElementById('model').value;
            
            if (!prompt) {
                showError('Please enter a prompt first.');
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch('/api/v1/demo/cost-analysis', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    const estimatedTokens = Math.ceil(prompt.length / 4);
                    const modelCost = getModelCost(model);
                    const estimatedCost = (estimatedTokens / 1000) * modelCost;
                    
                    showResult(`Estimated Cost: $${estimatedCost.toFixed(6)}\nEstimated Tokens: ${estimatedTokens}\nModel: ${model}\n\nNote: This is a rough estimate based on character count.`, {
                        estimated_cost: estimatedCost,
                        estimated_tokens: estimatedTokens,
                        model_id: model
                    });
                } else {
                    showError(`Error: ${data.detail || 'Failed to estimate cost'}`);
                }
            } catch (error) {
                showError(`Network error: ${error.message}`);
            }
        }
        
        function getModelCost(modelId) {
            const costs = {
                'openai-gpt-4': 0.03,
                'openai-gpt-3.5-turbo': 0.002,
                'anthropic-claude-3': 0.015,
                'google-gemini-pro': 0.0,
                'deepseek-deepseek-chat': 0.0014,
                'deepseek-deepseek-coder': 0.0014,
                'auto': 0.015
            };
            return costs[modelId] || 0.015;
        }
        
        function showLoading() {
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            const modelInfo = document.getElementById('modelInfo');
            
            resultSection.classList.add('show');
            resultContent.innerHTML = '<div class="loading">‚è≥ Generating response...</div>';
            modelInfo.innerHTML = '';
        }
        
        function showResult(content, data) {
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            const modelInfo = document.getElementById('modelInfo');
            
            resultSection.classList.add('show');
            resultContent.textContent = content;
            
            if (data.model_id) {
                modelInfo.innerHTML = `
                    <strong>Model Used:</strong> ${data.model_id}<br>
                    <strong>Tokens Used:</strong> ${data.tokens_used || 'N/A'}<br>
                    <strong>Cost:</strong> $${(data.cost || 0).toFixed(6)}<br>
                    <strong>Response Time:</strong> ${data.response_time || 'N/A'}
                `;
            }
        }
        
        function showError(message) {
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            const modelInfo = document.getElementById('modelInfo');
            
            resultSection.classList.add('show');
            resultContent.innerHTML = `<div class="error">‚ùå ${message}</div>`;
            modelInfo.innerHTML = '';
        }
        
        function showSuccess(message) {
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            const modelInfo = document.getElementById('modelInfo');
            
            resultSection.classList.add('show');
            resultContent.innerHTML = `<div class="success">‚úÖ ${message}</div>`;
            modelInfo.innerHTML = '';
            
            setTimeout(() => {
                resultSection.classList.remove('show');
            }, 3000);
        }
        
        function clearResult() {
            document.getElementById('resultSection').classList.remove('show');
            document.getElementById('prompt').value = '';
            document.getElementById('model').value = 'auto';
        }
        
        // Expose functions globally
        window.loadExample = loadExample;
        window.generateResponse = generateResponse;
        window.estimateCost = estimateCost;
        window.clearResult = clearResult;
        
        console.log('Script loaded successfully');
        console.log('loadExample function type:', typeof loadExample);
        console.log('window.loadExample function type:', typeof window.loadExample);
    </script>
</body>
</html> 